<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>System Failure | Worm Hole and White Hole Space Effects in Silverlight</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.59.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=https://systemfailure.io/dist/main.css rel=stylesheet type=text/css><meta property="og:title" content="Worm Hole and White Hole Space Effects in Silverlight"><meta property="og:description" content="A good starry background is so much better with a nice wormhole in it. Do you agree?:
 Download source code (note: I added the free purple “star spiral thingie”.png – see steps 5-6 below - used for the above effect to the source code download)
I tried to make a “clean” source code (read: slow, not optimized at all) for the sake of the tutorial and because I didn’t have time to speed it up yet."><meta property="og:type" content="article"><meta property="og:url" content="https://systemfailure.io/post/worm-hole-and-white-hole-space-effects-in-silverlight/"><meta property="article:published_time" content="2010-11-07T09:07:42+00:00"><meta property="article:modified_time" content="2010-11-07T09:07:42+00:00"><meta itemprop=name content="Worm Hole and White Hole Space Effects in Silverlight"><meta itemprop=description content="A good starry background is so much better with a nice wormhole in it. Do you agree?:
 Download source code (note: I added the free purple “star spiral thingie”.png – see steps 5-6 below - used for the above effect to the source code download)
I tried to make a “clean” source code (read: slow, not optimized at all) for the sake of the tutorial and because I didn’t have time to speed it up yet."><meta itemprop=datePublished content="2010-11-07T09:07:42&#43;00:00"><meta itemprop=dateModified content="2010-11-07T09:07:42&#43;00:00"><meta itemprop=wordCount content="626"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Worm Hole and White Hole Space Effects in Silverlight"><meta name=twitter:description content="A good starry background is so much better with a nice wormhole in it. Do you agree?:
 Download source code (note: I added the free purple “star spiral thingie”.png – see steps 5-6 below - used for the above effect to the source code download)
I tried to make a “clean” source code (read: slow, not optimized at all) for the sake of the tutorial and because I didn’t have time to speed it up yet."></head><body class="ma0 body-font"><style>.shadow-bottom{-webkit-box-shadow:0 0 15px 0 #afafaf;-moz-box-shadow:0 0 15px 0 #afafaf;box-shadow:0 0 15px 0 #afafaf}.pad-2{padding:2px 0}.sub-space{display:block;font-size:20px;font-weight:400;padding-top:10px}.nested-img img{width:initial;height:auto}a{color:#06f}pre{overflow:auto;color:#ddd;white-space:pre;border:1px solid #41a85f;border-left:none;border-right:none;hyphens:none;position:relative;border-radius:2px;margin-left:-32px;margin-right:-32px;padding:0 16px;box-shadow:0 2px 14px 0 #0b0107}a{text-decoration:none}a:hover{text-decoration:underline}.word-wrap{word-wrap:break-word}.lh-copy{line-height:1.42857143}.title-font{font-weight:700;color:#cecece}.body-font{font-family:segoe ui,Tahoma,Geneva,Verdana,sans-serif}.mw6{max-width:36rem}.mt3and5{margin-top:1.5rem}article{background:#1b1b1b;border-radius:4px 4px}body{background:#2f3031;color:#eee}.main-link{display:block;color:inherit}.main-link:hover{text-decoration:none}.summary-article:hover{box-shadow:0 0 12px 7px rgba(0,0,0,.12)}article img{display:block}.nested-links a{color:#54acd2;font-variant:small-caps;letter-spacing:.8px}.top-link:hover{background:#464646;border-radius:4px;text-decoration:none}.gradient-top{background:#020024;background:linear-gradient(90deg,rgb(121,66,0) 0%,rgb(107,74,0) 35%,rgb(57,42,0) 100%);height:4px;border-radius:4px 4px 0 0}.gradient-top.single,.summary-article:hover .gradient-top{background:linear-gradient(90deg,rgb(19,99,3) 0%,rgb(16,68,52) 35%,rgb(32,45,31) 100%)}.utterances{margin-left:0}</style><header class="mb5 cover bg-top bg-left shadow-bottom" style=background-image:url(https://systemfailure.io/header/tree1.jpg)><div><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l items-center center"><section class="w-100 mw8 center"><a href=https://systemfailure.io/ class="top-link pa3 f5 fw4 hover-white no-underline white-90 dib">System Failure<div class="f7 white-70 pad-2 sub-space">Nokola&#39;s handwritten blog on software and humans.</div></a><div class="flex-l items-center"></div></section></div></nav></div></header><main class="pb7 ph0 ph4-ns ph0-m" role=main><div class="flex-l mt2 mw8 center"><div><article class="center cf word-wrap"><div class="gradient-top single"></div><h1 class="f3 title-font ph4-ns ph3 pt3 mt3">Worm Hole and White Hole Space Effects in Silverlight</h1><div class="ph4-ns mw8 ph3 pb2"><p class="f7 pt1 pb3 silver"><span>Nov 7, 2010</span></p><section class="nested-copy-line-height lh-copy f5 nested-links nested-img light-gray"><p>A good starry background is so much better with a nice wormhole in it. Do you agree?:</p><iframe style="border-bottom:0 solid;border-left:0 solid;border-top:0 solid;border-right:0 solid" height=480 src="/sample.aspx?xap=WormHole" frameborder=0 width=800></iframe><p><a href=http://nokola.com/sources/wormhole.zip>Download source code</a> (note: I added the free purple “star spiral thingie”.png – see steps 5-6 below - used for the above effect to the source code download)</p><p>I tried to make a “clean” source code (read: slow, not optimized at all) for the sake of the tutorial and because I didn’t have time to speed it up yet. The code is very good candidate for pre-computations – once optimized it should run fine without any performance issues, including for multiple objects on Windows Phone 7.</p><p>Here is a step-by-step explanation of how I made the wormhole demo:</p><p><strong>Preparing the images:</strong></p><ol><li>Open <a href=http://fantasia.nokola.com>http://fantasia.nokola.com</a>&#160;</li><li>Create a nebula background without stars (from Creations). Edit Tint to make it blue-greenish</li><li>Add stars (Creations | Stars)</li><li>Go to <a title=http://www.spiralgraphics.biz/ href=http://www.spiralgraphics.biz/>http://www.spiralgraphics.biz/</a> and get one of their extremely nice planets. I’m using Arid World, but the rest work amazing too. By the time of this writing, their planets are free for commercial use! (note all license info on site)</li><li><strong>Note: </strong>you can skip steps 5-6 and just do the effect on top of plain background, it still looks nice. In Fantasia, paint a greenish 100x100 star-shape thingie (the base image for the wormhole) using the Sketch brush</li><li>Apply Drain Flush effect (light) to make the star curved a bit, so it looks more like a spiral</li><li>Open the starry spiral in GIMP (<a title=http://www.gimp.org/ href=http://www.gimp.org/>http://www.gimp.org/</a>) and remove the background (Colors | Color to Alpha)</li><li>Open Paint.NET (<a title=http://www.getpaint.net/ href=http://www.getpaint.net/>http://www.getpaint.net/</a>) and combine the background with the planet and the spiral thingie to make the final picture!</li></ol><p><strong>Writing the source code:</strong></p><p>I spent some time deciding on what I’d like to achieve with the effect. From movies, we all know that galaxies look like spiral and worm holes “suck in” matter from nearby stars.</p><p>Thus, I decided that the “drain flush” fantasia effect would look as if matter is “sucked in” to the worm hole. This was my first implementation. Once I saw that I decided to also use the ripple effect, which adds a lot to the “sucking matter in” realism (you can experiment by turning those on or off in the source code. Final wormhole is a combination of ripple + drain flush effects.</p><p>The white hole came for free <img style=border-bottom-style:none;border-left-style:none;border-top-style:none;border-right-style:none class="wlEmoticon wlEmoticon-smile" alt=Smile src=/wlEmoticon-smile_2.png> After finishing the wormhole, I noticed that doing a reverse ripple (without drain flush), produces nice radiance that seems to shine outwards, which looks like a white hole (supposedly..if you see one in real life let me know!)</p><p>Ok, I did one fundamental performance optimization – since the wormhole is 100x100 and the background is much bigger, it makes sense to create a smaller Image element and put the 100x100 wormhole there. This way you can have a nice wormhole without redrawing the whole background on every frame (significant speed improvement, especially if hardware acceleration is enabled for the background image).</p><ol><li>Get the Ripple and Swirl (drain flush) effects from <a title=http://wpffx.codeplex.com/ href=http://wpffx.codeplex.com/>http://wpffx.codeplex.com/</a></li><li>Redo them in C# (SwirlHelper.cs) for 2 reasons:<ol><li>Windows Phone 7 currently does not support custom pixel shaders</li><li>I wanted to have few extra parameters (center and radius) and make the effects apply an alpha*2 linear opacity mask so they blend nicely with the background. I chose alpha *= 2 because I wanted a nice visible center and linear mask fadeoff.</li></ol></li><li>Hook up CompositionTarget.Rendering, load the images, cut out the 100x100 wormhole source image</li><li>On every frame, Ripple then Swirl (wormhole) or inverse Ripple (white hole)</li></ol><p>Some further ways to improve this, would be to spin the worm hole faster or slower depending on various conditions (e.g. if the wormhole is about to appear, animate the opacity and slowly spin it into existence.)</p><p>Hope you like it! Please comment!</p></section><div class=mt5></div><script src=https://utteranc.es/client.js repo=nokola/blog issue-term=pathname label=comment theme=github-dark crossorigin=anonymous async></script></div></article></div></div></main><footer class="bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f7 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://systemfailure.io/>&copy; 2020 System Failure</a></div></footer><script src=https://systemfailure.io/dist/app.bundle.js async></script></body></html>