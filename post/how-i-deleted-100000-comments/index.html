<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>System Failure | How I Deleted 100000 Comments!</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.59.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=https://systemfailure.io/dist/main.css rel=stylesheet type=text/css><meta property="og:title" content="How I Deleted 100000 Comments!"><meta property="og:description" content="Finally, no spam! My blog was slowly becoming dysfunctional, after getting more than 2000 spam comments per day!
I moved to the new version 2.0 of http://dotnetblogengine.net last night, and it has super easy built in reCAPTCHA which stops spam and helps read books. Pretty cool! The reCAPTCHA settings are accessed by hovering over Tools and selecting Edit in .NET Blog Engine 2.0 – it was very hard and non-intuitive to find the setting, but once I did it worked like a charm!"><meta property="og:type" content="article"><meta property="og:url" content="https://systemfailure.io/post/how-i-deleted-100000-comments/"><meta property="article:published_time" content="2011-05-23T17:44:00+00:00"><meta property="article:modified_time" content="2011-05-23T17:44:00+00:00"><meta itemprop=name content="How I Deleted 100000 Comments!"><meta itemprop=description content="Finally, no spam! My blog was slowly becoming dysfunctional, after getting more than 2000 spam comments per day!
I moved to the new version 2.0 of http://dotnetblogengine.net last night, and it has super easy built in reCAPTCHA which stops spam and helps read books. Pretty cool! The reCAPTCHA settings are accessed by hovering over Tools and selecting Edit in .NET Blog Engine 2.0 – it was very hard and non-intuitive to find the setting, but once I did it worked like a charm!"><meta itemprop=datePublished content="2011-05-23T17:44:00&#43;00:00"><meta itemprop=dateModified content="2011-05-23T17:44:00&#43;00:00"><meta itemprop=wordCount content="304"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="How I Deleted 100000 Comments!"><meta name=twitter:description content="Finally, no spam! My blog was slowly becoming dysfunctional, after getting more than 2000 spam comments per day!
I moved to the new version 2.0 of http://dotnetblogengine.net last night, and it has super easy built in reCAPTCHA which stops spam and helps read books. Pretty cool! The reCAPTCHA settings are accessed by hovering over Tools and selecting Edit in .NET Blog Engine 2.0 – it was very hard and non-intuitive to find the setting, but once I did it worked like a charm!"></head><body class="ma0 body-font"><style>.shadow-bottom{-webkit-box-shadow:0 0 15px 0 #afafaf;-moz-box-shadow:0 0 15px 0 #afafaf;box-shadow:0 0 15px 0 #afafaf}.pad-2{padding:2px 0}.sub-space{display:block;font-size:20px;font-weight:400;padding-top:10px}.nested-img img{width:initial;height:auto}a{color:#06f}pre{overflow:auto;color:#ddd;white-space:pre;border:1px solid #41a85f;border-left:none;border-right:none;hyphens:none;position:relative;border-radius:2px;margin-left:-32px;margin-right:-32px;padding:0 16px;box-shadow:0 2px 14px 0 #0b0107}a{text-decoration:none}a:hover{text-decoration:underline}.word-wrap{word-wrap:break-word}.lh-copy{line-height:1.42857143}.title-font{font-weight:700;color:#cecece}.body-font{font-family:segoe ui,Tahoma,Geneva,Verdana,sans-serif}.mw6{max-width:36rem}.mt3and5{margin-top:1.5rem}article{background:#1b1b1b;border-radius:4px 4px}body{background:#2f3031;color:#eee}.main-link{display:block;color:inherit}.main-link:hover{text-decoration:none}.summary-article:hover{box-shadow:0 0 12px 7px rgba(0,0,0,.12)}article img{display:block}.nested-links a{color:#54acd2;font-variant:small-caps;letter-spacing:.8px}.top-link:hover{background:#464646;border-radius:4px;text-decoration:none}.gradient-top{background:#020024;background:linear-gradient(90deg,rgb(121,66,0) 0%,rgb(107,74,0) 35%,rgb(57,42,0) 100%);height:4px;border-radius:4px 4px 0 0}.gradient-top.single,.summary-article:hover .gradient-top{background:linear-gradient(90deg,rgb(19,99,3) 0%,rgb(16,68,52) 35%,rgb(32,45,31) 100%)}.utterances{margin-left:0}</style><header class="mb5 cover bg-top bg-left shadow-bottom" style=background-image:url(https://systemfailure.io/header/tree1.jpg)><div><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l items-center center"><section class="w-100 mw8 center"><a href=https://systemfailure.io/ class="top-link pa3 f5 fw4 hover-white no-underline white-90 dib">System Failure<div class="f7 white-70 pad-2 sub-space">Nokola&#39;s handwritten blog on software and humans.</div></a><div class="flex-l items-center"></div></section></div></nav></div></header><main class="pb7 ph0 ph4-ns ph0-m" role=main><div class="flex-l mt2 mw8 center"><div><article class="center cf word-wrap"><div class="gradient-top single"></div><h1 class="f3 title-font ph4-ns ph3 pt3 mt3">How I Deleted 100000 Comments!</h1><div class="ph4-ns mw8 ph3 pb2"><p class="f7 pt1 pb3 silver"><span>May 23, 2011</span></p><section class="nested-copy-line-height lh-copy f5 nested-links nested-img light-gray"><p>Finally, no spam! My blog was slowly becoming dysfunctional, after getting more than 2000 spam comments per day!</p><p>I moved to the new version 2.0 of <a href=http://dotnetblogengine.net>http://dotnetblogengine.net</a> last night, and it has super easy built in <a href=http://recaptcha.org>reCAPTCHA</a> which stops spam and helps read books. Pretty cool! The reCAPTCHA settings are accessed by hovering over Tools and selecting Edit in .NET Blog Engine 2.0 – it was very hard and non-intuitive to find the setting, but once I did it worked like a charm!</p><p>There was one &quot;small glitch&quot; though – about a hundred thousand spam comments left to &quot;moderate&quot;, which I did.</p><p>&#160;</p><p><table border=0 cellspacing=0 cellpadding=2 width=796><tbody><tr><td valign=top width=406><a href=/peace.jpg><img style=background-image:none;border-right-width:0;padding-left:0;padding-right:0;display:inline;border-top-width:0;border-bottom-width:0;border-left-width:0;padding-top:0 title=peace border=0 alt=peace src=/peace_thumb.jpg width=400 height=400></a></td><td valign=top width=388>Now I feel at peace like the picture on the left</td></tr></tbody></table></p><p>I made a small program, which anyone can use to mass-delete blog engine’s comments after specific date. Hopefully this will help anyone unspam themselves.</p><p>[code:c#]</p><p>private void button1_Click(object sender, RoutedEventArgs e)<br>{<br>&#160;&#160;&#160; string[] files = Directory.GetFiles(@&quot;D:\TEMP\blog\App_Data\posts&quot;, &quot;*.xml&quot;);<br>&#160;&#160;&#160; foreach (string file in files)<br>&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; FixPost(file);<br>&#160;&#160;&#160; }<br>}</p><p>private void FixPost(string fileName)<br>{<br>&#160;&#160;&#160; XDocument doc;<br>&#160;&#160;&#160; using (FileStream stream = File.OpenRead(fileName))<br>&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; doc = XDocument.Load(stream);<br>&#160;&#160;&#160; }</p><p>&#160;&#160;&#160; var list = from XElement el in doc.Descendants(XName.Get(&quot;comment&quot;, String.Empty))&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; select el;<br></p><p>&#160;&#160;&#160; // convert the list to an array so that we're not modifying the collection that we're iterating over&#160;&#160;&#160;&#160;<br>&#160;&#160;&#160; XName date = XName.Get(&quot;date&quot;);<br>&#160;&#160;&#160; foreach (XElement el in list.ToArray())<br>&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; string data = ((XElement)el.FirstNode).Value;</p><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160; if (data.StartsWith(&quot;2011&quot;) || data.StartsWith(&quot;2010-12&quot;) || data.StartsWith(&quot;2010-11&quot;) || data.StartsWith(&quot;2010-10&quot;))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; el.Remove();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>&#160;&#160;&#160; }</p><p>&#160;&#160;&#160; using (XmlWriter writer = XmlWriter.Create(fileName))<br>&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; doc.WriteTo(writer);<br>&#160;&#160;&#160; }<br>}</p><p>[/code]</p><p>That code deleted all comments from Oct 2010 onward (sorry, I had to do it), but yay! No spam! I can finally blog normally. <img style=border-bottom-style:none;border-left-style:none;border-top-style:none;border-right-style:none class="wlEmoticon wlEmoticon-smile" alt=Smile src=/wlEmoticon-smile_7.png></p><p>Hope you like it! Please comment in a nice and clean environment! <img style=border-bottom-style:none;border-left-style:none;border-top-style:none;border-right-style:none class="wlEmoticon wlEmoticon-smile" alt=Smile src=/wlEmoticon-smile_7.png></p></section><div class=mt5></div><script src=https://utteranc.es/client.js repo=nokola/blog issue-term=pathname label=comment theme=github-dark crossorigin=anonymous async></script></div></article></div></div></main><footer class="bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f7 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://systemfailure.io/>&copy; 2020 System Failure</a></div></footer><script src=https://systemfailure.io/dist/app.bundle.js async></script></body></html>