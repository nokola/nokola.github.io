<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>System Failure | EasyPainter Source Pack 3: Adorners, Mouse Cursors and Frames</title><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.59.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=https://systemfailure.io/dist/main.css rel=stylesheet type=text/css><meta property="og:title" content="EasyPainter Source Pack 3: Adorners, Mouse Cursors and Frames"><meta property="og:description" content="Adorners went a long way since their first release few months ago. They integrate with zoom now, have more options for controlling functionality and can use a shared &#34;cursor plane&#34; for displaying mouse cursors consistently across your application. Extensibility is improved allowing definition of custom adorner frames. There are 7 custom cursors and 4 custom frames to get you started :)
Download source code
I use the same adorner implementation in EasyPainter."><meta property="og:type" content="article"><meta property="og:url" content="https://systemfailure.io/post/easypainter-source-pack-3-adorners-mouse-cursors-and-frames/"><meta property="article:published_time" content="2010-03-17T01:11:30+00:00"><meta property="article:modified_time" content="2010-03-17T01:11:30+00:00"><meta itemprop=name content="EasyPainter Source Pack 3: Adorners, Mouse Cursors and Frames"><meta itemprop=description content="Adorners went a long way since their first release few months ago. They integrate with zoom now, have more options for controlling functionality and can use a shared &#34;cursor plane&#34; for displaying mouse cursors consistently across your application. Extensibility is improved allowing definition of custom adorner frames. There are 7 custom cursors and 4 custom frames to get you started :)
Download source code
I use the same adorner implementation in EasyPainter."><meta itemprop=datePublished content="2010-03-17T01:11:30&#43;00:00"><meta itemprop=dateModified content="2010-03-17T01:11:30&#43;00:00"><meta itemprop=wordCount content="590"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="EasyPainter Source Pack 3: Adorners, Mouse Cursors and Frames"><meta name=twitter:description content="Adorners went a long way since their first release few months ago. They integrate with zoom now, have more options for controlling functionality and can use a shared &#34;cursor plane&#34; for displaying mouse cursors consistently across your application. Extensibility is improved allowing definition of custom adorner frames. There are 7 custom cursors and 4 custom frames to get you started :)
Download source code
I use the same adorner implementation in EasyPainter."></head><body class="ma0 body-font"><style>.shadow-bottom{-webkit-box-shadow:0 0 15px 0 #afafaf;-moz-box-shadow:0 0 15px 0 #afafaf;box-shadow:0 0 15px 0 #afafaf}.pad-2{padding:2px 0}.sub-space{display:block;font-size:20px;font-weight:400;padding-top:10px}.nested-img img{width:initial;height:auto}a{color:#06f}pre{overflow:auto;color:#ddd;white-space:pre;border:1px solid #41a85f;border-left:none;border-right:none;hyphens:none;position:relative;border-radius:2px;margin-left:-32px;margin-right:-32px;padding:0 16px;box-shadow:0 2px 14px 0 #0b0107}a{text-decoration:none}a:hover{text-decoration:underline}.word-wrap{word-wrap:break-word}.lh-copy{line-height:1.42857143}.title-font{font-weight:700;color:#cecece}.body-font{font-family:segoe ui,Tahoma,Geneva,Verdana,sans-serif}.mw6{max-width:36rem}.mt3and5{margin-top:1.5rem}article{background:#1b1b1b;border-radius:4px 4px}body{background:#2f3031;color:#eee}.main-link{display:block;color:inherit}.main-link:hover{text-decoration:none}.summary-article:hover{box-shadow:0 0 12px 7px rgba(0,0,0,.12)}article img{display:block}.nested-links a{color:#54acd2;font-variant:small-caps;letter-spacing:.8px}.top-link:hover{background:#464646;border-radius:4px;text-decoration:none}.gradient-top{background:#020024;background:linear-gradient(90deg,rgb(121,66,0) 0%,rgb(107,74,0) 35%,rgb(57,42,0) 100%);height:4px;border-radius:4px 4px 0 0}.gradient-top.single,.summary-article:hover .gradient-top{background:linear-gradient(90deg,rgb(19,99,3) 0%,rgb(16,68,52) 35%,rgb(32,45,31) 100%)}.utterances{margin-left:0}</style><header class="mb5 cover bg-top bg-left shadow-bottom" style=background-image:url(https://systemfailure.io/header/tree1.jpg)><div><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l items-center center"><section class="w-100 mw8 center"><a href=https://systemfailure.io/ class="top-link pa3 f5 fw4 hover-white no-underline white-90 dib">System Failure<div class="f7 white-70 pad-2 sub-space">Nokola&#39;s handwritten blog on software and humans.</div></a><div class="flex-l items-center"></div></section></div></nav></div></header><main class="pb7 ph0 ph4-ns ph0-m" role=main><div class="flex-l mt2 mw8 center"><div><article class="center cf word-wrap"><div class="gradient-top single"></div><h1 class="f3 title-font ph4-ns ph3 pt3 mt3">EasyPainter Source Pack 3: Adorners, Mouse Cursors and Frames</h1><div class="ph4-ns mw8 ph3 pb2"><p class="f7 pt1 pb3 silver"><span>Mar 17, 2010</span></p><section class="nested-copy-line-height lh-copy f5 nested-links nested-img light-gray"><p>Adorners went a long way since their first release few months ago.</p><p>They integrate with zoom now, have more options for controlling functionality and can use a shared &quot;cursor plane&quot; for displaying mouse cursors consistently across your application. Extensibility is improved allowing definition of custom adorner frames. There are 7 custom cursors and 4 custom frames to get you started :)</p><p><a href=http://nokola.com/sources/AdornersAndCursors.zip>Download source code</a></p><p>I use the same adorner implementation in <a href=http://nokola.com/easypainter>EasyPainter</a>.</p><p>Here's a live demo with different adorner frame for each image:</p><iframe style="border-bottom:0 solid;border-left:0 solid;border-top:0 solid;border-right:0 solid" height=600 src="/sample.aspx?xap=AdornersAndCursors" frameborder=0 width=860></iframe><h2>Features</h2><ul><li><strong>Custom, Extensible Mouse Cursors</strong> allow you to use the system or your own mouse cursors even if you don't use the adorner functionality. See CursorPlane.cs for more info</li></ul><blockquote><p>The custom cursors support:</p></blockquote><ul><ul><li>Size (for example, bigger cursor for bigger brush size)</li><li>Rotation (used to make the resize cursor perpendicular to the adorner frame)</li></ul></ul><p>The current list supports all system cursors as well as these:</p><p>Size, // Size cursor that supports angle<br>Rotate, // Rotate cursor supporting angle<br>Move, // Move cursor<br>Brush, // Brush cursor, supports size<br>SelectionBrush, // Selection brush cursor<br>Crosshair, // Crosshair cursor - like the one used on snipers or in image editing programs to pinpoint that pixel<br>MarkerSelect, // Cursor used to select a marker on the surface (e.g. used to select point for applying origin for zoom blur effect)</p><p>To use the cursors you have to set up a cursor plane in XAML:</p><p>&lt;adorners:CursorPlane Name='cursorPlane' /&gt;</p><p>And then initialize it in code-behind:</p><p>&#160;&#160;&#160; InitializeComponent();<br>&#160;&#160;&#160; ctlCursorPlane.SetSystemCursorElement(frameRoot);</p><p>The frameRoot specifies which control will display the cursors. For example, in EasyPainter the Crop adorner spans only the image (the adorner is parented to a different parent than the cursor plane), but the rotate/resize cursor go outside of the image. The frameRoot is used to calculate the offsets so that the adorners (or someone else using the cursor plane) can account for the different parents and draw the cursors at the correct locations on screen.</p><ul><li><strong>Customizable Adorners with extensible adorner frames</strong></li></ul><p>You can now define your custom adorner frames by creating a UserControl and implementing the functionality you need from the IAdornerFrame interface.</p><p>There are 4 existing frames currently: AnimatedRectangleFrame, CropFrame, GlassFrame and PointFrame. The last one is just a dot being used to specify locations of effects in EasyPainter â€“ e.g. Zoom motion effect.</p><p>The existing frames can be zoom-aware. For example the CropFrame displays the correct image width and height in the top-left corner regardless of zoom.</p><p>/// Represents an adorner frame, e.g. glass border<br>public interface IAdornerFrame {<br>&#160;&#160;&#160; /// Called when the frame is attached to adorner<br>&#160;&#160;&#160; void Attached();</p><p>&#160;&#160;&#160; /// Called when the frame is detached from adorner<br>&#160;&#160;&#160; void Detached();</p><p>&#160;&#160;&#160; /// Sets the zoom level for this adorner frame. The zoom level is used by the frame to display correct coordinates (e.g. Width and Height)<br>&#160;&#160;&#160; void SetZoom(double newZoomLevel);</p><p>&#160;&#160;&#160; void SizeChanged(double newWidth, double newHeight);<br>}</p><ul><li><strong>More adorner options: </strong>bool CanRotate, CanResize, CanMove, void SetBounds(x, y, width, height), SetZoom(double zoomLevel) allow you to change adorner capabilities, restrict it to specific area, and make it zoom-aware</li></ul><p>I didn't have time to add the behaviours back since I don't use those yet and I'm mainly using Visual Studio for development. If anyone is interested in porting these over to the current version <strong></strong><a href=http://tozon.info/blog/>Andrej Tozon</a> created the Behaviours for the <u>original</u> version. Here's a link to <a href=http://cid-d34608bce9688fba.skydrive.live.com/self.aspx/Public/Development/Samples/AdornerTest2.zip>his version</a>. Thanks Andrej!</p><p>The source code is licensed under <a href=http://opensource.org/licenses/ms-pl.html>MS-PL</a>.</p><p>Pictures are licensed under the following Creative Commons License: <a href=http://creativecommons.org/licenses/by/2.0/>http://creativecommons.org/licenses/by/2.0/</a><br>Picture locations:<br><a href=http://www.flickr.com/photos/proimos/3954987905/>http://www.flickr.com/photos/proimos/3954987905/</a><br><a href=http://www.flickr.com/photos/proimos/4300827122/>http://www.flickr.com/photos/proimos/4300827122/</a><br><a href=http://www.flickr.com/photos/tenioman/2771903123/>http://www.flickr.com/photos/tenioman/2771903123/</a></p><p>Hope you like it! Please comment!</p></section><div class=mt4></div></div></article></div></div><div class="mw8 center"><script src=https://utteranc.es/client.js repo=nokola/blog issue-term=pathname label=comment theme=github-dark crossorigin=anonymous async></script></div></main><footer class="bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f7 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://systemfailure.io/>&copy; 2019 System Failure</a></div></footer><script src=https://systemfailure.io/dist/app.bundle.js async></script></body></html>