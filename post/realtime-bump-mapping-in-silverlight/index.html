<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>System Failure  | Realtime Bump Mapping in Silverlight</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.55.6" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    <link href='https://systemfailure.io/dist/main.css' rel='stylesheet' type="text/css" />
    
      
    

    <meta property="og:title" content="Realtime Bump Mapping in Silverlight" />
<meta property="og:description" content="Ah yes! Bump mapping is an effect that makes &#34;plain&#34; textures - such as stone wall, appear bumpy under a light.
Even for a 2D game, bump mapping has a lot of uses. For example, if you&#39;re building a space shooter, it would be 10000 times cooler if lights from explosions illuminate the ship, showing it&#39;s ridged surfaces.
I&#39;ve seen the effect used in games in the main menu as well, where the light of the cursor illuminated a rough surface." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://systemfailure.io/post/realtime-bump-mapping-in-silverlight/" />
<meta property="article:published_time" content="2009-12-06T04:07:00&#43;00:00"/>
<meta property="article:modified_time" content="2009-12-06T04:07:00&#43;00:00"/>

<meta itemprop="name" content="Realtime Bump Mapping in Silverlight">
<meta itemprop="description" content="Ah yes! Bump mapping is an effect that makes &#34;plain&#34; textures - such as stone wall, appear bumpy under a light.
Even for a 2D game, bump mapping has a lot of uses. For example, if you&#39;re building a space shooter, it would be 10000 times cooler if lights from explosions illuminate the ship, showing it&#39;s ridged surfaces.
I&#39;ve seen the effect used in games in the main menu as well, where the light of the cursor illuminated a rough surface.">


<meta itemprop="datePublished" content="2009-12-06T04:07:00&#43;00:00" />
<meta itemprop="dateModified" content="2009-12-06T04:07:00&#43;00:00" />
<meta itemprop="wordCount" content="283">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Realtime Bump Mapping in Silverlight"/>
<meta name="twitter:description" content="Ah yes! Bump mapping is an effect that makes &#34;plain&#34; textures - such as stone wall, appear bumpy under a light.
Even for a 2D game, bump mapping has a lot of uses. For example, if you&#39;re building a space shooter, it would be 10000 times cooler if lights from explosions illuminate the ship, showing it&#39;s ridged surfaces.
I&#39;ve seen the effect used in games in the main menu as well, where the light of the cursor illuminated a rough surface."/>

  </head>

  <body class="ma0 body-font">
    <style>
      .shadow-bottom {
        -webkit-box-shadow: 0px 0px 15px 0px rgba(175, 175, 175, 1);
        -moz-box-shadow:    0px 0px 15px 0px rgba(175, 175, 175, 1);
        box-shadow:         0px 0px 15px 0px rgba(175, 175, 175, 1);
      }
      .pad-2 {
        padding: 2px 0;
      }
      .sub-space {
        letter-spacing: 0.4px;
      }
      .nested-img img {
        width: initial;
        height: auto;
      }
      a {
        color: #0066ff;
      }
      pre {
        overflow: auto;
        background-color: #e1e1e1;
      }
      a {
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .word-wrap {
        word-wrap: break-word;
      }
      .lh-copy {
        line-height: 1.42857143;
      }
      .title-font {
        font-weight: 700;
        color: #333;
        border-bottom: 1px solid #333;
         
      }
      .body-font {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      .mw6 {
        max-width: 36rem;
      }
      .mt3and5 {
        margin-top: 1.5rem;
      }
      article {
        background: white;
        border-radius: 3px;
      }
      body {
        background: #ecf0f5;
      }
      .main-link {
        display: block;
        color: inherit;

         
      }
      .main-link:hover {
        text-decoration: none;
        box-shadow: 0 0 10px 3px rgba(0,0,0,.12);
      }
    </style>
    



  
  
    <header class="cover bg-top bg-left shadow-bottom" style="background-image: url('https://systemfailure.io/header/tree1.jpg');">
  
    <div>
      
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l  items-center center">
    <section class="w-100 mw8 center">
      <a href="https://systemfailure.io/" class="f5 fw4 hover-white no-underline white-90 dib">
        System Failure
        <div class="f7 white-70 pad-2 sub-space">Software for humans</div>
      </a>
      <div class="flex-l items-center">
        
        








      </div>
    </section>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7 ph3 pt2 ph4-ns" role="main">
      
<div class="flex-l mt2 mw8 center">
  <div>
    <a href="javascript:history.go(-1)">‚Üê back</a>
    <article class="center cf word-wrap mt3">
      <h1 class="f3 title-font pl4 pt4 pb3 mt2">
        Realtime Bump Mapping in Silverlight
      </h1>

      <div class="pa4 mw8 pt2">
        <p class="f7 pt1 pb0 mv0 mid-gray">
          
          <span>Dec 6, 2009</span>
          

          </p>

        
        
        <section class="nested-copy-line-height lh-copy f5 nested-links nested-img dark-gray">
          <p>Ah yes! Bump mapping is an effect that makes "plain" textures - such as stone wall, appear bumpy under a light.</p>
<p>Even for a 2D game, bump mapping has a lot of uses. For example, if you're building a space shooter, it would be 10000 times cooler if lights from explosions illuminate the ship, showing it's ridged surfaces.</p>
<p>I've seen the effect used in games in the main menu as well, where the light of the cursor illuminated a rough surface. This is what we're doing today:</p>
<iframe src="/sample.aspx?xap=BumpMapping" width="1024px" height="768px"></iframe>
<p><a href="http://nokola.com/sources/BumpMapping.zip">Download Source Code</a></p>
<p>Notice how the light reflects properly off the bumpy surface as you move the mouse around.</p>
<p>I haven't optimized the effect (just a tiny bit <img title="Embarassed" src="http://nokola.com/blog/editors/tiny_mce3/plugins/emotions/img/smiley-embarassed.gif" border="0" alt="Embarassed" />), but it still runs at 1024x768, with 3 lights on 1 CPU thread. You can add more (e.g with images of lightbugs)&nbsp;if you'd like or take it full screen - I think it can handle it!</p>
<p>I found a really good old tutorial on bump mapping while digging through my files today. It's from a person named Sqrt(-1) and unfortunately I didn't find his current website to point you there.</p>
<p>Anyway, here's another website that shows how to do this effect: <a href="http://tfpsly.free.fr/Docs/TomHammersley/bumpmap.htm">http://tfpsly.free.fr/Docs/TomHammersley/bumpmap.htm</a></p>
<p>In my implementation the effect of the lights is limited to twice their radius, which pretty much gives the same effect as if you don't limit it. This reduces the effect's complexity to O(L1+L2+...LN) where Lx is the surface&nbsp;area of each light.</p>
<p>That's why you can scale large, especially with smaller lights.&nbsp;</p>
<p><b>Edit: </b>One possible optimization is to pre-calculate the normals for each x,y - this doubles the memory size for the bitmap but saves a lot of computations!</p>
<p>Hope you like it! Please comment!</p>

        </section>
        


        <div class="mt5"></div>
        
<div id="graphcomment"></div>
<script type="text/javascript">
  window.graphcomment_id = 'nokola-blog';
  (function() {
    var gc = document.createElement('script'); gc.type = 'text/javascript'; gc.async = true;
    gc.src = 'https://graphcomment.com/js/integration.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(gc);
  })();
</script>

      </div>
    </article>
  </div>
</div>

    </main>
    <footer class="bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f7 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://systemfailure.io/" >
    &copy; 2019 System Failure
  </a>
  








  </div>
</footer>

    <script src="https://systemfailure.io/dist/app.bundle.js" async></script>

  </body>
</html>
